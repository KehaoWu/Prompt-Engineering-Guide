

# 基本提示

在之前的指南中，我们介绍并给出了提示的基本示例。

在本指南中，我们将提供更多关于如何使用提示的例子，并介绍更高级指南中很重要的关键概念。

通常，学习概念的最佳方式是通过实例进行。以下是我们涵盖的几个例子，展示了精心制作的提示如何用于执行各种有趣和不同的任务。

主题：
- [文本摘要](#文本摘要)
- [信息提取](#信息提取)
- [问答系统](#问答系统)
- [文本分类](#文本分类)
- [对话系统](#对话系统)
- [代码生成](#代码生成)
- [推理](#推理)
- [Python 笔记本](#python-notebooks)

---

## 文本摘要

自然语言生成中的标准任务之一是文本摘要。文本摘要可以涵盖许多不同的风格和领域。语言模型最有前途的应用之一是能够将文章和概念总结为快速易读的摘要。让我们尝试使用提示进行基本摘要任务。

让我们假设我对学习抗生素感兴趣，我可以尝试这样一个提示：


**提示：**
```
解释抗生素

A: 
```

**输出：**
```
抗生素是指一类用于治疗细菌感染的药物。它们通过干扰细菌的生长和复制来抑制感染，从而帮助身体克服细菌感染。

抗生素可以通过多种方式杀死或抑制细菌的生长，例如破坏细菌的细胞壁、膜或核酸，或者干扰细菌的代谢过程。不同类型的抗生素对不同类型的细菌产生不同的效果，因此，对于特定的感染，医生需要选择适当的抗生素。

抗生素通常是由微生物或人工合成的化合物，它们可以通过口服、注射、外用或其他途径使用。虽然抗生素对治疗细菌感染非常有效，但滥用和误用抗生素会导致细菌耐药性的增加，使得治疗感染更加困难。因此，使用抗生素应该在医生的指导下进行，严格按照医生的建议和处方使用。
```

"`A:`" 是一种明确的提示格式，用于问答。我在此使用它来告诉模型还有一个预期的回答。在这个示例中，不清楚使用它与不使用它有什么用处，但我们将在后面的例子中讨论这个问题。让我们假设这是太多的信息，想要进一步概括。我们可以指示模型将其总结为一句话，如下所示：




**提示：**
```
抗生素是一种用于治疗细菌感染的药物。它们通过杀死细菌或防止其繁殖来促使身体的免疫系统对抗感染。抗生素通常以口服药片、胶囊、液体溶液的形式服用，有时也会通过静脉注射的方式给予。它们对病毒感染无效，不当使用会导致抗生素耐药性。

一句话解释以上内容：
```

**输出:**
```
抗生素是一种用于治疗细菌感染的药物，可以杀死或防止细菌繁殖，但对病毒感染无效，滥用会导致抗生素耐药性。
```

不要过分关注上面输出的准确性，这是我们后续指南会涉及到的内容，模型试图用一句话概括段落。你可以尝试灵活运用指令，但我们会在后面的章节中讲到。随意停下来尝试实验，看看是否能获得更好的结果。

---

## 信息提取

虽然语言模型旨在执行自然语言生成及相关任务，但它也非常擅长执行分类和各种其他自然语言处理（NLP）任务。

以下是从给定段落中提取信息的提示示例。

**提示：**
```
作者的贡献声明和研究论文中的致谢应该清楚明确地说明作者在撰写和分析论文中是否使用了 AI 技术，比如 ChatGPT，以及使用了哪些 LLMs。这将提醒编辑和审稿人更仔细地审查可能存在偏见、不准确和不当来源引用的论文。同样，科学期刊在选择提交的论文时也应该透明地说明其使用了哪些 LLMs。

提及上面段落所提到的基于大型语言模型的产品：
```





**输出：**
```
上述段落中提到的基于大型语言模型的产品是 ChatGPT。
```

有许多方法可以改善上面的结果，但这已经很有用了。

现在，显然你只需简单地指示模型要做什么，就可以要求模型执行不同的任务。这是人工智能产品制造商正在使用的强大功能，用于构建强大的产品和体验。

段落来源：[ChatGPT: 五项研究重点](https://www.nature.com/articles/d41586-023-00288-7)

--- 

## 问答系统

获得模型特定回答的最佳方法是改进提示的格式。如之前所述，提示可以将指导、上下文、输入和输出指标组合起来以获得改进结果。虽然这些组件不是必需的，但随着指导越具体，结果越好，这成为一种良好的实践。以下是如何在更结构化的提示后看待这个例子。

**提示：**
```
请根据以下内容回答问题。回答要简短。如果不确定，回答“不确定”。

上下文：Teplizumab的渊源可以追溯到一家名叫Ortho Pharmaceutical的新泽西药品公司。在那里，科学家们生成了一个早期版本的抗体，称为OKT3。该分子最初来自小鼠，能够结合到T细胞的表面并限制它们的细胞杀伤能力。1986年，它被批准用于帮助预防肾脏移植后的器官排斥，成为第一个允许人类使用的治疗性抗体。 

问题: OKT3最初的来源是什么？

答案：
```





**输出:**
```
OKT3最初的来源是小鼠。
```

上下文来自于 [Nature](https://www.nature.com/articles/d41586-023-00400-x)。

## 文本分类


到目前为止，我们使用简单的指令来执行任务。作为提示工程师，您需要不断提高提供更好指令的能力。但这还不够！您还将发现，对于更难的用例，仅提供指令是不够的。这就需要您更多地思考上下文和在提示中可以使用的不同元素。您可以提供的其他元素有 `输入数据` 或 `示例`。

让我们试着通过提供文本分类的示例来演示这一点。

**提示：**
```
将文本归类为中性、负面或正面。

文本：我认为食物还可以。 

情感：
```

**输出:**
```
情感为中性。
```


我们已经给出了分类文本的指令，模型响应了 `'中性'`，这是正确的。这没有问题，但是我们真正需要的是模型以我们想要的确切格式给出标签。因此，我们希望它返回`中性`而不是`情感是中性`。我们该如何实现这一点？有不同的方法可以做到这一点。在这里我们关心的是具体性，因此我们可以通过提供示例来指定正确的行为。让我们再试一次：


**提示：**
```
将文本分类为中性、负面或正面。

文本： 我觉得假期还可以。 

情感：中性

文本：我觉得食物还可以。 

情感：
```


**输出:**
```
中性。
```

完美!这一次模型返回了 `中性`，这正是我要寻找的特定标签。看起来，提示中提供的示例帮助模型在输出中变得更具体。为了凸显为什么有时候具体表示非常重要，请看这个例子并找出问题：

**提示：**
```
将文本分类为中性、负面或正面。

文本：我觉得假期还可以。 

情感：
```

**输出:**
```
中性
```

---

## 对话系统

也许在prompt工程中最有趣的事情之一就是教LLM系统如何行动，它的意图和身份。当您构建像客户服务聊天机器人这样的对话系统时，此项技能特别有用。 

举个例子，让我们创建一个对话系统，能够生成更多技术和科学方面的答复。请注意，我们通过指令明确地告诉它如何行为。这有时被称为角色提示。


**提示：**
```
以下是与一个AI研究助手的对话。助手的语气是技术性和科学性的。

人类：你好，你是谁？

AI：您好！我是一名AI研究助手。请问今天我能为您做些什么？

人类：你能告诉我黑洞的创建过程吗？

AI:
```





**输出：**
```
当一个非常大的恒星燃尽所有的燃料并耗尽核燃料时，它会发生超新星爆炸，最后会坍缩成一个极端密度的天体，即黑洞。这种坍缩可能会导致一个非常小而且无质量的点，称为奇点，它具有极强的引力。任何进入这个奇点的物质都将无法逃脱。
```

我们的人工智能研究助手听起来有点太技术性了，对吧？好的，让我们改变这种行为，指示系统提供更易理解的答案。


**提示：**
```
以下是与人工智能研究助手的对话。助手的回答应该易于小学生理解。

人类：你好，你是谁？

AI：您好！我是一名AI研究助手。今天有什么可以帮助您的？

人类：您能告诉我有关黑洞的创造吗？

AI:
```

**输出:**
```
当一颗非常大的星星燃烧完所有的燃料时，它就会爆炸，然后坍塌成为一个非常小而密集的东西，我们称之为黑洞。黑洞非常的重，会有非常强的引力，甚至连光都无法逃脱它的引力。
```

我觉得我们取得了一些进展。你可以继续改进它。我敢肯定，如果你添加更多的例子，你可能会获得更好的结果。

---

## 代码生成

大型语言模型的另外一个有深远影响的应用就是代码生成。Copilot是一个很好的例子。您可以利用聪明的提示执行大量的代码生成任务。让我们来看一下以下几个示例。

首先，让我们尝试编写一个简单的程序来问候用户。

**提示：**
```
/* 
    要求用户输入他们的姓名并说“你好” 
*/
```





**输出：**
```
以下是使用JavaScript编写的实现要求的代码示例：

let name = prompt("请输入您的姓名：");
console.log("你好，" + name + "！");

这段代码使用了prompt方法来弹出一个输入对话框，要求用户输入他们的姓名，并将输入的值赋给变量name。然后，使用console.log方法输出一个包含输入的姓名的问候语。
```

您可以看到，我们甚至不需要指定要使用的语言。

让我们稍微调整一下级别。我想向您展示，在设计提示时，稍微多花一些功夫可以使LLMs变得非常强大。

**提示：**
```
表部门，列=[部门编号，部门名称]
表格学生，列= [部门编号，学生编号，学生姓名]

创建一个MySQL查询，以获取计算机科学系所有学生的信息。
```

**输出：**
```
以下是获取计算机科学系所有学生信息的 MySQL 查询语句：

SELECT s.学生编号, s.学生姓名 
FROM 学生 s 
JOIN 部门 d ON s.部门编号 = d.部门编号 
WHERE d.部门名称 = '计算机科学系'

解释：

在 FROM 子句中选择 学生 表 s 和 部门 表 d。
在 JOIN 子句中，将 学生 表中的 部门编号 与 部门 表中的 部门编号 进行连接。
在 WHERE 子句中，选择 部门名称 为 计算机科学系 的行。
最后，选择 学生编号 和 学生姓名 列作为结果。
```

在部门中，部门编号符合（在departments中选择DepartmentName为'计算机科学'的DepartmentId）的数据。

这非常令人印象深刻。在这种情况下，我们提供了关于数据库架构的数据，并要求它生成一个有效的MySQL查询。

---

## 推理


也许今天对LLM来说最具挑战性的任务之一需要一定的推理能力。推理是我最感兴趣的领域之一，因为它可以带来多种复杂应用于LLMs。

有关数学能力的任务有了一些改进。然而，需要注意的是，目前的LLMs仍然在推理任务中表现不佳，因此需要更先进的提示工程技术。我们将在下一篇指南中介绍这些高级技术。目前，我们将介绍一些基本的例子来展示算术能力。


**提示：**
```
什么是9,000 * 9,000？
```

**输出:**
```
9,000 * 9,000 = 81,000,000
```

让我们来尝试一些更困难的东西。

**提示：**
```
这组数中的奇数加起来是偶数：15、32、5、13、82、7、1。

A:
```

*输出*
```
这组数中的奇数加起来是34，是一个偶数。
```

这是错误的！我们可以通过改进提示来改进它。


提示：
```
在这组数字中，奇数相加得到偶数： 15，32，5，13，82，7，1。

使用分步法解决问题。首先，识别奇数，将它们相加，然后指示结果是否为奇数或偶数。
```





**输出：**
```
首先，我们识别这组数字中的奇数为15、5、13、7和1。将它们相加得到41，这是一个奇数。因此，答案是：在这组数字中，奇数相加得到一个奇数。
```


很好，是吧？顺便说一下，我尝试了几次，有时候系统会失败。如果您提供更好的说明和示例，可能会有更准确的结果。


我们会继续在本指南的这个部分中加入更多常见应用的例子。

在即将发布的指南中，我们将涵盖更高级的提示工程概念，以改善在所有这些和更困难的任务上的性能。

---

## Python笔记本

|描述|笔记本|
|--|--| 
|学习如何使用 `openai` 和 `LangChain` 库执行许多不同类型的常见任务| [开始进行提示工程](../notebooks/pe-lecture.ipynb) |


[前一节 (入门)](./prompts-intro.md)

[下一节（高级提示技术）](./prompts-advanced-usage.md)